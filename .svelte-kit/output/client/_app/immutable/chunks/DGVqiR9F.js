import{aC as x,aD as i,aE as k,x as E,ae as y,m as S,a1 as _,aF as g,aG as A,aH as C,af as b}from"./CHEZFaFW.js";function V(e,c,l=c){var s=x(),v=new WeakSet;i(e,"input",f=>{e.type==="checkbox"&&k();var a=f?e.defaultValue:e.value;if(a=n(e)?u(a):a,l(a),_!==null&&v.add(_),s&&a!==(a=c())){var h=e.selectionStart,d=e.selectionEnd;e.value=a??"",d!==null&&(e.selectionStart=h,e.selectionEnd=Math.min(d,e.value.length))}}),(S&&e.defaultValue!==e.value||E(c)==null&&e.value)&&(l(n(e)?u(e.value):e.value),_!==null&&v.add(_)),y(()=>{e.type==="checkbox"&&k();var f=c();if(e===document.activeElement){var a=g??_;if(v.has(a))return}n(e)&&f===u(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}const t=new Set;function q(e,c,l,s,v=s){var f=l.getAttribute("type")==="checkbox",a=e;let h=!1;if(c!==null)for(var d of c)a=a[d]??(a[d]=[]);a.push(l),i(l,"change",()=>{var r=l.__value;f&&(r=m(a,r,l.checked)),v(r)},()=>v(f?[]:null)),y(()=>{var r=s();if(S&&l.defaultChecked!==l.checked){h=!0;return}f?(r=r||[],l.checked=r.includes(l.__value)):l.checked=A(l.__value,r)}),C(()=>{var r=a.indexOf(l);r!==-1&&a.splice(r,1)}),t.has(a)||(t.add(a),b(()=>{a.sort((r,o)=>r.compareDocumentPosition(o)===4?-1:1),t.delete(a)})),b(()=>{if(h){var r;if(f)r=m(a,r,l.checked);else{var o=a.find(w=>w.checked);r=o==null?void 0:o.__value}v(r)}})}function m(e,c,l){for(var s=new Set,v=0;v<e.length;v+=1)e[v].checked&&s.add(e[v].__value);return l||s.delete(c),Array.from(s)}function n(e){var c=e.type;return c==="number"||c==="range"}function u(e){return e===""?null:+e}export{q as a,V as b};
