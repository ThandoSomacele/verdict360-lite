import{c as re,l as se}from"../chunks/Cexvm7jw.js";import{p as oe,D as T,h as le,a as s,b as t,d as ne,E as I,$ as ie,e as i,w as y,f as M,n as _,t as L,g as d,r as c,i as de,j as ce,k as o,I as m,c as me,P as pe,F as l,l as f,M as ve,N as A,J as ue}from"../chunks/CHEZFaFW.js";import{a as p}from"../chunks/4_OcRqll.js";import{i as N}from"../chunks/V_zUl8LG.js";import{g as O}from"../chunks/BA-TEJIs.js";import{B as fe}from"../chunks/BLuEq0UL.js";import{I as q}from"../chunks/BAO5Xq7u.js";import{C as ge,a as he,b as xe,c as be}from"../chunks/D1JuUFOb.js";e[l]="src/routes/login/+page.svelte";var ye=p(f('<meta name="description" content="Login to your Verdict 360 account to access your legal AI assistant dashboard."/>'),e[l],[[53,2]]),_e=p(f('<!> <p class="text-center text-gray-600 mt-2">Sign in to your Verdict 360 account</p>',1),e[l],[[61,8]]),we=p(f('<div class="bg-red-50 text-red-600 p-3 rounded-lg text-sm"> </div>'),e[l],[[66,12]]),$e=p(ve('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Signing in...',1),e[l],[[116,14,[[117,16],[118,16]]]]),Ce=p(f('<form class="space-y-4"><!> <div><label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label> <!></div> <div><label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label> <!></div> <div class="flex items-center justify-between"><label class="flex items-center"><input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <span class="ml-2 text-sm text-gray-600">Remember me</span></label> <a href="/forgot-password" class="text-sm text-blue-600 hover:text-blue-700">Forgot password?</a></div> <!></form> <div class="mt-6"><div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div> <div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Or continue with</span></div></div> <div class="mt-6 grid grid-cols-2 gap-3"><button class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"><svg class="w-5 h-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> <span class="ml-2">Google</span></button> <button class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"><svg class="w-5 h-5" viewBox="0 0 23 23"><path fill="#f25022" d="M1 1h10v10H1z"></path><path fill="#00a4ef" d="M12 1h10v10H12z"></path><path fill="#7fba00" d="M1 12h10v10H1z"></path><path fill="#ffb900" d="M12 12h10v10H12z"></path></svg> <span class="ml-2">Microsoft</span></button></div></div> <p class="mt-6 text-center text-sm text-gray-600"> <a href="/signup" class="font-medium text-blue-600 hover:text-blue-700">Sign up for free</a></p>',1),e[l],[[64,8,[[71,10,[[72,12]]],[85,10,[[86,12]]],[99,10,[[100,12,[[101,14],[102,14]]],[104,12]]]]],[127,8,[[128,10,[[129,12,[[130,14]]],[132,12,[[133,14]]]]],[137,10,[[138,12,[[139,14,[[140,16],[141,16],[142,16],[143,16]]],[145,14]]],[148,12,[[149,14,[[150,16],[151,16],[152,16],[153,16]]],[155,14]]]]]]],[160,8,[[162,10]]]]),ke=p(f("<!> <!>",1),e[l],[]),Te=p(f('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-16"><div class="w-full max-w-md"><!> <div class="mt-4 p-4 bg-white bg-opacity-90 rounded-lg"><p class="text-sm text-gray-600 text-center"><strong>Demo Credentials:</strong><br/> Admin: admin@verdict360.com / admin123<br/> User: user@demo.com / demo123</p></div></div></div>'),e[l],[[56,0,[[57,2,[[170,4,[[171,6,[[172,8],[172,42],[173,46]]]]]]]]]]);function e(J,G){re(new.target),oe(G,!0,e);let z=T(I(""),"email"),S=T(I(""),"password"),w=T(I(!1),"loading"),g=T(I(""),"error");async function R(h){h.preventDefault(),m(w,!0),m(g,"");try{const n=(await A(fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o(z),password:o(S)})})))();if(n.ok){const a=(await A(n.json()))();localStorage.setItem("accessToken",a.accessToken),localStorage.setItem("refreshToken",a.refreshToken),localStorage.setItem("user",JSON.stringify(a.user)),ue(a.user.role,"admin")?O("/admin"):O("/dashboard")}else{const a=(await A(n.json()))();m(g,a.message||"Invalid email or password",!0)}}catch{m(g,"An error occurred. Please try again.")}finally{m(w,!1)}}var j=Te();le(h=>{var n=ye();ie.title="Login - Verdict 360",t(h,n)});var E=i(j),U=i(E);return s(()=>ge(U,{children:y(e,(h,n)=>{var a=ke(),V=M(a);s(()=>he(V,{children:y(e,(B,K)=>{var x=_e(),v=M(x);s(()=>xe(v,{class:"text-2xl text-center",children:y(e,($,F)=>{_();var b=L("Welcome Back");t($,b)}),$$slots:{default:!0}}),"component",e,60,8,{componentTag:"CardTitle"}),_(2),t(B,x)}),$$slots:{default:!0}}),"component",e,59,6,{componentTag:"CardHeader"});var W=d(V,2);s(()=>be(W,{children:y(e,(B,K)=>{var x=Ce(),v=M(x),$=i(v);{var F=r=>{var C=we(),k=i(C,!0);c(C),de(()=>ce(k,o(g))),t(r,C)};s(()=>N($,r=>{o(g)&&r(F)}),"if",e,65,10)}var b=d($,2),Q=d(i(b),2);s(()=>q(Q,{type:"email",id:"email",placeholder:"you@lawfirm.com",required:!0,class:"w-full",get value(){return o(z)},set value(r){m(z,r,!0)}}),"component",e,75,12,{componentTag:"Input"}),c(b);var H=d(b,2),X=d(i(H),2);s(()=>q(X,{type:"password",id:"password",placeholder:"Enter your password",required:!0,class:"w-full",get value(){return o(S)},set value(r){m(S,r,!0)}}),"component",e,89,12,{componentTag:"Input"}),c(H);var Y=d(H,4);s(()=>fe(Y,{type:"submit",variant:"default",class:"w-full",get disabled(){return o(w)},children:y(e,(r,C)=>{var k=me(),ee=M(k);{var te=u=>{var P=$e();_(),t(u,P)},ae=u=>{var P=L("Sign In");t(u,P)};s(()=>N(ee,u=>{o(w)?u(te):u(ae,!1)}),"if",e,115,12)}t(r,k)}),$$slots:{default:!0}}),"component",e,109,10,{componentTag:"Button"}),c(v);var D=d(v,4),Z=i(D);Z.nodeValue="Don't have an account?  ",_(),c(D),pe("submit",v,R),t(B,x)}),$$slots:{default:!0}}),"component",e,63,6,{componentTag:"CardContent"}),t(h,a)}),$$slots:{default:!0}}),"component",e,58,4,{componentTag:"Card"}),_(2),c(E),c(j),t(J,j),ne({...se()})}export{e as component};
