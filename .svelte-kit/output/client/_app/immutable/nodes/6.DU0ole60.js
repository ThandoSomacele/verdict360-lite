import{c as ba,l as ya}from"../chunks/Cexvm7jw.js";import{ad as ha,x as wa,C as ka,p as Aa,D as Ct,e as a,a as f,i as A,b as m,d as La,E as Tt,g as e,r as t,j as l,k as i,J as gt,F as p,l as _,I as J,n as Qt,c as Rt,f as Bt,O as Ea}from"../chunks/CHEZFaFW.js";import{a as b}from"../chunks/4_OcRqll.js";import{i as N}from"../chunks/V_zUl8LG.js";import{e as Dt,i as St}from"../chunks/BcIZtQ9e.js";import{i as da,c as Na,r as Mt,s as pt,d as Pt,e as oa}from"../chunks/ClU6btJJ.js";import{b as Ca}from"../chunks/DGVqiR9F.js";import{i as Ta,a as Da,b as Sa,c as Ma}from"../chunks/BA-TEJIs.js";function Gt(c,r,s){ha(()=>{var D=wa(()=>r(c,s==null?void 0:s())||{});if(D!=null&&D.destroy)return()=>D.destroy()})}function Pa(c){const r=JSON.parse(c);return r.data&&(r.data=Sa(r.data,Ma.decoders)),r}function jt(c){return HTMLElement.prototype.cloneNode.call(c)}function V(c,r=()=>{}){if(jt(c).method!=="post")throw new Error('use:enhance can only be used on <form> fields with method="POST"');const s=async({action:y,result:O,reset:Y=!0,invalidateAll:I=!0})=>{O.type==="success"&&(Y&&HTMLFormElement.prototype.reset.call(c),I&&await Ta()),(location.origin+location.pathname===y.origin+y.pathname||O.type==="redirect"||O.type==="error")&&await Da(O)};async function D(y){var vt,yt,it,ct,ht;if(((vt=y.submitter)!=null&&vt.hasAttribute("formmethod")?y.submitter.formMethod:jt(c).method)!=="post")return;y.preventDefault();const Y=new URL((yt=y.submitter)!=null&&yt.hasAttribute("formaction")?y.submitter.formAction:jt(c).action),I=(it=y.submitter)!=null&&it.hasAttribute("formenctype")?y.submitter.formEnctype:jt(c).enctype,P=new FormData(c);if(I!=="multipart/form-data"){for(const x of P.values())if(x instanceof File)throw new Error('Your form contains <input type="file"> fields, but is missing the necessary `enctype="multipart/form-data"` attribute. This will lead to inconsistent behavior between enhanced and native forms. For more details, see https://github.com/sveltejs/kit/issues/9819.')}const ft=(ct=y.submitter)==null?void 0:ct.getAttribute("name");ft&&P.append(ft,((ht=y.submitter)==null?void 0:ht.getAttribute("value"))??"");const _t=new AbortController;let st=!1;const lt=await r({action:Y,cancel:()=>st=!0,controller:_t,formData:P,formElement:c,submitter:y.submitter})??s;if(st)return;let H;try{const x=new Headers({accept:"application/json","x-sveltekit-action":"true"});I!=="multipart/form-data"&&x.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(I)?I:"application/x-www-form-urlencoded");const wt=I==="multipart/form-data"?P:new URLSearchParams(P),kt=await fetch(Y,{method:"POST",headers:x,cache:"no-store",body:wt,signal:_t.signal});H=Pa(await kt.text()),H.type==="error"&&(H.status=kt.status)}catch(x){if((x==null?void 0:x.name)==="AbortError")return;H={type:"error",error:x}}await lt({action:Y,formData:P,formElement:c,update:x=>s({action:Y,result:H,reset:x==null?void 0:x.reset,invalidateAll:x==null?void 0:x.invalidateAll}),result:H})}return HTMLFormElement.prototype.addEventListener.call(c,"submit",D),{destroy(){HTMLFormElement.prototype.removeEventListener.call(c,"submit",D)}}}d[p]="src/routes/admin/leads/+page.svelte";function na(c,r,s){J(r,!1),J(s,null)}function ja(c,r,s){J(r,!1),J(s,"")}var qa=b(_("<option> </option>"),d[p],[[113,14]]),Fa=(c,r,s)=>r(i(s)),Oa=(c,r,s)=>r(i(s)),Ia=b(_('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-medium text-gray-900"> </div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-900"> </div> <div class="text-sm text-gray-500"> </div></td><td class="px-6 py-4"><div class="text-sm text-gray-900 max-w-xs truncate"> </div></td><td class="px-6 py-4 whitespace-nowrap"><span> </span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><button class="text-blue-600 hover:text-blue-900 mr-3">View</button> <button class="text-green-600 hover:text-green-900">Note</button></td></tr>'),d[p],[[154,14,[[155,16,[[156,18]]],[158,16,[[159,18],[160,18]]],[162,16,[[163,18]]],[167,16,[[168,18]]],[172,16],[175,16,[[176,18],[182,18]]]]]]),Ha=b(_('<tr><td colspan="6" class="px-6 py-12 text-center text-gray-500">No leads found</td></tr>'),d[p],[[192,14,[[193,16]]]]),za=b(_('<a class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">Previous</a>'),d[p],[[207,14]]),Ua=b(_('<a class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">Next</a>'),d[p],[[215,14]]),Ja=b(_('<a class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">Previous</a>'),d[p],[[238,18]]),Qa=b(_('<span class="relative inline-flex items-center px-4 py-2 border border-blue-500 bg-blue-50 text-sm font-medium text-blue-600"></span>'),d[p],[[247,20]]),Ra=b(_('<a class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"></a>'),d[p],[[251,20]]),Ba=b(_('<span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">...</span>'),d[p],[[258,20]]),Ga=b(_('<a class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">Next</a>'),d[p],[[264,18]]),Va=b(_('<div class="bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"><div class="flex-1 flex justify-between sm:hidden"><!> <!></div> <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"><div><p class="text-sm text-gray-700">Showing <span class="font-medium"> </span> to <span class="font-medium"> </span> of <span class="font-medium"> </span> results</p></div> <div><nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px"><!> <!> <!></nav></div></div></div>'),d[p],[[204,8,[[205,10],[223,10,[[224,12,[[225,14,[[227,16],[229,16],[231,16]]]]],[235,12,[[236,14]]]]]]]]),Ya=b(_('<div><h3 class="text-sm font-medium text-gray-500">Additional Message</h3> <p class="mt-2 text-sm text-gray-900"> </p></div>'),d[p],[[312,14,[[313,16],[314,16]]]]),Za=c=>{var r;return(r=c.currentTarget.form)==null?void 0:r.requestSubmit()},Ka=b(_("<option> </option>"),d[p],[[329,20]]),Wa=b(_('<div><h3 class="text-sm font-medium text-gray-500">Internal Notes</h3> <pre class="mt-2 text-sm text-gray-900 whitespace-pre-wrap"> </pre></div>'),d[p],[[336,14,[[337,16],[338,16]]]]),Xa=b(_('<p class="text-sm text-gray-900"><strong>Contacted:</strong> </p>'),d[p],[[347,18,[[347,51]]]]),$a=()=>confirm("Are you sure you want to delete this lead?"),te=b(_('<div class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto"><div class="p-6"><div class="flex justify-between items-start mb-4"><h2 class="text-xl font-bold text-gray-900">Lead Details</h2> <button class="text-gray-400 hover:text-gray-500"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="space-y-4"><div><h3 class="text-sm font-medium text-gray-500">Contact Information</h3> <div class="mt-2 space-y-1"><p class="text-sm text-gray-900"><strong>Name:</strong> </p> <p class="text-sm text-gray-900"><strong>Email:</strong> </p> <p class="text-sm text-gray-900"><strong>Phone:</strong> </p></div></div> <div><h3 class="text-sm font-medium text-gray-500">Enquiry Details</h3> <p class="mt-2 text-sm text-gray-900"> </p></div> <!> <div><h3 class="text-sm font-medium text-gray-500">Status</h3> <form method="POST" action="?/updateStatus"><input type="hidden" name="leadId"/> <select name="status" class="mt-2 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></select></form></div> <!> <div><h3 class="text-sm font-medium text-gray-500">Timeline</h3> <div class="mt-2 space-y-1"><p class="text-sm text-gray-900"><strong>Created:</strong> </p> <!> <p class="text-sm text-gray-900"><strong>Last Updated:</strong> </p></div></div></div> <div class="mt-6 flex justify-end space-x-3"><form method="POST" action="?/deleteLead"><input type="hidden" name="leadId"/> <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors">Delete Lead</button></form> <button class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors">Close</button></div></div></div></div>'),d[p],[[281,4,[[282,6,[[283,8,[[284,10,[[285,12],[286,12,[[290,14,[[291,16]]]]]]],[296,10,[[297,12,[[298,14],[299,14,[[300,16,[[300,49]]],[301,16,[[301,49]]],[302,16,[[302,49]]]]]]],[306,12,[[307,14],[308,14]]],[318,12,[[319,14],[320,14,[[321,16],[322,16]]]]],[342,12,[[343,14],[344,14,[[345,16,[[345,49]]],[349,16,[[349,49]]]]]]]]],[354,10,[[355,12,[[356,14],[357,14]]],[365,12]]]]]]]]]]),ae=b(_('<div class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-lg max-w-md w-full"><form method="POST" action="?/addNote"><div class="p-6"><h2 class="text-xl font-bold text-gray-900 mb-4">Add Note</h2> <input type="hidden" name="leadId"/> <div><label for="note" class="block text-sm font-medium text-gray-700 mb-2"> </label> <textarea id="note" name="note" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter your note here..." required></textarea></div> <div class="mt-4 flex justify-end space-x-3"><button type="button" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors">Cancel</button> <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Add Note</button></div></div></form></div></div>'),d[p],[[379,4,[[380,6,[[381,8,[[382,10,[[383,12],[385,12],[387,12,[[388,14],[391,14]]],[402,12,[[403,14],[410,14]]]]]]]]]]]]),ee=b(_('<div class="min-h-screen bg-gray-50"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="bg-white shadow-sm rounded-lg p-6 mb-6"><h1 class="text-2xl font-bold text-gray-900">Lead Management</h1> <p class="text-gray-600 mt-1">Manage and track your chat leads</p></div> <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6"><div class="bg-white rounded-lg shadow-sm p-4"><p class="text-sm text-gray-600">Total Leads</p> <p class="text-2xl font-bold text-gray-900"> </p></div> <div class="bg-white rounded-lg shadow-sm p-4"><p class="text-sm text-gray-600">New</p> <p class="text-2xl font-bold text-blue-600"> </p></div> <div class="bg-white rounded-lg shadow-sm p-4"><p class="text-sm text-gray-600">Contacted</p> <p class="text-2xl font-bold text-yellow-600"> </p></div> <div class="bg-white rounded-lg shadow-sm p-4"><p class="text-sm text-gray-600">Qualified</p> <p class="text-2xl font-bold text-green-600"> </p></div> <div class="bg-white rounded-lg shadow-sm p-4"><p class="text-sm text-gray-600">Converted</p> <p class="text-2xl font-bold text-purple-600"> </p></div></div> <div class="bg-white rounded-lg shadow-sm p-4 mb-6"><form method="GET" class="flex flex-wrap gap-4"><div class="flex-1 min-w-[200px]"><input type="text" name="search" placeholder="Search leads..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/></div> <div><select name="status" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"><option>All Status</option><!></select></div> <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">Filter</button></form></div> <div class="bg-white rounded-lg shadow-sm overflow-hidden"><div class="overflow-x-auto"><table class="w-full"><thead class="bg-gray-50 border-b border-gray-200"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contact</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Enquiry</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><!><!></tbody></table></div> <!></div></div> <!> <!></div>'),d[p],[[61,0,[[62,2,[[64,4,[[65,6],[66,6]]],[70,4,[[71,6,[[72,8],[73,8]]],[75,6,[[76,8],[77,8]]],[79,6,[[80,8],[81,8]]],[83,6,[[84,8],[85,8]]],[87,6,[[88,8],[89,8]]]]],[94,4,[[95,6,[[96,8,[[97,10]]],[105,8,[[106,10,[[111,12]]]]],[117,8]]]]],[127,4,[[128,6,[[129,8,[[130,10,[[131,12,[[132,14],[135,14],[138,14],[141,14],[144,14],[147,14]]]]],[152,10]]]]]]]]]]]]);function d(c,r){ba(new.target),Aa(r,!0,d);let s=Ct(Tt(null),"selectedLead"),D=Ct(Tt(!1),"showDetails"),y=Ct(Tt(!1),"showAddNote"),O=Ct(Tt(""),"noteText");const Y={new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",converted:"bg-purple-100 text-purple-800",lost:"bg-red-100 text-red-800"},I=[{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"qualified",label:"Qualified"},{value:"converted",label:"Converted"},{value:"lost",label:"Lost"}];function P(v){return new Date(v).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ft(v){J(s,v,!0),J(D,!0)}function _t(v){J(s,v,!0),J(y,!0),J(O,"")}var st=ee(),bt=a(st),lt=e(a(bt),2),H=a(lt),vt=e(a(H),2),yt=a(vt,!0);t(vt),t(H);var it=e(H,2),ct=e(a(it),2),ht=a(ct,!0);t(ct),t(it);var x=e(it,2),wt=e(a(x),2),kt=a(wt,!0);t(wt),t(x);var qt=e(x,2),Vt=e(a(qt),2),la=a(Vt,!0);t(Vt),t(qt);var Yt=e(qt,2),Zt=e(a(Yt),2),va=a(Zt,!0);t(Zt),t(Yt),t(lt);var Ft=e(lt,2),Kt=a(Ft),Ot=a(Kt),Wt=a(Ot);Mt(Wt),t(Ot);var Xt=e(Ot,2),dt=a(Xt),It=a(dt);It.value=It.__value="all";var ca=e(It);f(()=>Dt(ca,17,()=>I,St,(v,o)=>{var g=qa(),w=a(g,!0);t(g);var L={};A(()=>{l(w,i(o).label),L!==(L=i(o).value)&&(g.value=(g.__value=i(o).value)??"")}),m(v,g)}),"each",d,112,12),t(dt);var $t;da(dt),t(Xt),Qt(2),t(Kt),t(Ft);var ta=e(Ft,2),Ht=a(ta),aa=a(Ht),ea=e(a(aa)),ra=a(ea);f(()=>Dt(ra,17,()=>r.data.leads,St,(v,o)=>{var g=Ia(),w=a(g),L=a(w),Q=a(L,!0);t(L),t(w);var C=e(w),E=a(C),z=a(E,!0);t(E);var S=e(E,2),U=a(S,!0);t(S),t(C);var j=e(C),M=a(j),ot=a(M,!0);t(M),t(j);var Z=e(j),R=a(Z),$=a(R,!0);t(R),t(Z);var K=e(Z),tt=a(K,!0);t(K);var nt=e(K),B=a(nt);B.__click=[Fa,ft,o];var at=e(B,2);at.__click=[Oa,_t,o],t(nt),t(g),A(et=>{l(Q,i(o).name),l(z,i(o).email),l(U,i(o).phone),l(ot,i(o).enquiry_details),Na(R,1,`px-2 py-1 text-xs font-semibold rounded-full ${(Y[i(o).status]||"bg-gray-100 text-gray-800")??""}`),l($,i(o).status),l(tt,et)},[()=>P(i(o).created_at)]),m(v,g)}),"each",d,153,12);var ua=e(ra);{var ma=v=>{var o=Ha();m(v,o)};f(()=>N(ua,v=>{gt(r.data.leads.length,0)&&v(ma)}),"if",d,191,12)}t(ea),t(aa),t(Ht);var xa=e(Ht,2);{var ga=v=>{var o=Va(),g=a(o),w=a(g);{var L=n=>{var k=za();A(()=>pt(k,"href",`?page=${r.data.pagination.page-1}&search=${r.data.filters.search??""}&status=${r.data.filters.status??""}`)),m(n,k)};f(()=>N(w,n=>{r.data.pagination.page>1&&n(L)}),"if",d,206,12)}var Q=e(w,2);{var C=n=>{var k=Ua();A(()=>pt(k,"href",`?page=${r.data.pagination.page+1}&search=${r.data.filters.search??""}&status=${r.data.filters.status??""}`)),m(n,k)};f(()=>N(Q,n=>{r.data.pagination.page<r.data.pagination.totalPages&&n(C)}),"if",d,214,12)}t(g);var E=e(g,2),z=a(E),S=a(z),U=e(a(S)),j=a(U,!0);t(U);var M=e(U,2),ot=a(M,!0);t(M);var Z=e(M,2),R=a(Z,!0);t(Z),Qt(),t(S),t(z);var $=e(z,2),K=a($),tt=a(K);{var nt=n=>{var k=Ja();A(()=>pt(k,"href",`?page=${r.data.pagination.page-1}&search=${r.data.filters.search??""}&status=${r.data.filters.status??""}`)),m(n,k)};f(()=>N(tt,n=>{r.data.pagination.page>1&&n(nt)}),"if",d,237,16)}var B=e(tt,2);f(()=>Dt(B,17,()=>Array(r.data.pagination.totalPages),St,(n,k,q)=>{var At=Rt(),Lt=Bt(At);{var Et=W=>{var X=Qa();X.textContent=q+1,m(W,X)},ut=W=>{var X=Rt(),zt=Bt(X);{var Nt=G=>{var F=Ra();F.textContent=q+1,A(()=>pt(F,"href",`?page=${q+1}&search=${r.data.filters.search??""}&status=${r.data.filters.status??""}`)),m(G,F)},Ut=G=>{var F=Rt(),mt=Bt(F);{var Jt=xt=>{var u=Ba();m(xt,u)};f(()=>N(mt,xt=>{gt(Math.abs(q+1-r.data.pagination.page),3)&&xt(Jt)},!0),"if",d,257,18)}m(G,F)};f(()=>N(zt,G=>{Math.abs(q+1-r.data.pagination.page)<3||gt(q,0)||gt(q,r.data.pagination.totalPages-1)?G(Nt):G(Ut,!1)},!0),"if",d,250,18)}m(W,X)};f(()=>N(Lt,W=>{gt(q+1,r.data.pagination.page)?W(Et):W(ut,!1)}),"if",d,246,18)}m(n,At)}),"each",d,245,16);var at=e(B,2);{var et=n=>{var k=Ga();A(()=>pt(k,"href",`?page=${r.data.pagination.page+1}&search=${r.data.filters.search??""}&status=${r.data.filters.status??""}`)),m(n,k)};f(()=>N(at,n=>{r.data.pagination.page<r.data.pagination.totalPages&&n(et)}),"if",d,263,16)}t(K),t($),t(E),t(o),A(n=>{l(j,(r.data.pagination.page-1)*r.data.pagination.limit+1),l(ot,n),l(R,r.data.pagination.total)},[()=>Math.min(r.data.pagination.page*r.data.pagination.limit,r.data.pagination.total)]),m(v,o)};f(()=>N(xa,v=>{r.data.pagination.totalPages>1&&v(ga)}),"if",d,203,6)}t(ta),t(bt);var sa=e(bt,2);{var pa=v=>{var o=te(),g=a(o),w=a(g),L=a(w),Q=e(a(L),2);Q.__click=[na,D,s],t(L);var C=e(L,2),E=a(C),z=e(a(E),2),S=a(z),U=e(a(S));t(S);var j=e(S,2),M=e(a(j));t(j);var ot=e(j,2),Z=e(a(ot));t(ot),t(z),t(E);var R=e(E,2),$=e(a(R),2),K=a($,!0);t($),t(R);var tt=e(R,2);{var nt=u=>{var h=Ya(),T=e(a(h),2),rt=a(T,!0);t(T),t(h),A(()=>l(rt,i(s).additional_message)),m(u,h)};f(()=>N(tt,u=>{i(s).additional_message&&u(nt)}),"if",d,311,12)}var B=e(tt,2),at=e(a(B),2),et=a(at);Mt(et);var n=e(et,2);n.__change=[Za],f(()=>Dt(n,21,()=>I,St,(u,h)=>{var T=Ka(),rt=a(T,!0);t(T);var ia={};A(()=>{l(rt,i(h).label),ia!==(ia=i(h).value)&&(T.value=(T.__value=i(h).value)??"")}),m(u,T)}),"each",d,328,18),t(n);var k;da(n),t(at),Gt(at,u=>V==null?void 0:V(u)),t(B);var q=e(B,2);{var At=u=>{var h=Wa(),T=e(a(h),2),rt=a(T,!0);t(T),t(h),A(()=>l(rt,i(s).internal_notes)),m(u,h)};f(()=>N(q,u=>{i(s).internal_notes&&u(At)}),"if",d,335,12)}var Lt=e(q,2),Et=e(a(Lt),2),ut=a(Et),W=e(a(ut));t(ut);var X=e(ut,2);{var zt=u=>{var h=Xa(),T=e(a(h));t(h),A(rt=>l(T,` ${rt??""}`),[()=>P(i(s).contacted_at)]),m(u,h)};f(()=>N(X,u=>{i(s).contacted_at&&u(zt)}),"if",d,346,16)}var Nt=e(X,2),Ut=e(a(Nt));t(Nt),t(Et),t(Lt),t(C);var G=e(C,2),F=a(G),mt=a(F);Mt(mt);var Jt=e(mt,2);Jt.__click=[$a],t(F),Gt(F,u=>V==null?void 0:V(u));var xt=e(F,2);xt.__click=[na,D,s],t(G),t(w),t(g),t(o),A((u,h)=>{l(U,` ${i(s).name??""}`),l(M,` ${i(s).email??""}`),l(Z,` ${i(s).phone??""}`),l(K,i(s).enquiry_details),Pt(et,i(s).id),k!==(k=i(s).status)&&(n.value=(n.__value=i(s).status)??"",oa(n,i(s).status)),l(W,` ${u??""}`),l(Ut,` ${h??""}`),Pt(mt,i(s).id)},[()=>P(i(s).created_at),()=>P(i(s).updated_at)]),m(v,o)};f(()=>N(sa,v=>{i(D)&&i(s)&&v(pa)}),"if",d,280,2)}var fa=e(sa,2);{var _a=v=>{var o=ae(),g=a(o),w=a(g),L=a(w),Q=e(a(L),2);Mt(Q);var C=e(Q,2),E=a(C),z=a(E);t(E);var S=e(E,2);Ea(S),t(C);var U=e(C,2),j=a(U);j.__click=[ja,y,O],Qt(2),t(U),t(L),t(w),Gt(w,M=>V==null?void 0:V(M)),t(g),t(o),A(()=>{Pt(Q,i(s).id),l(z,`Note for ${i(s).name??""}`)}),Ca(S,()=>i(O),M=>J(O,M)),m(v,o)};f(()=>N(fa,v=>{i(y)&&i(s)&&v(_a)}),"if",d,378,2)}return t(st),A(()=>{l(yt,r.data.stats.total),l(ht,r.data.stats.new),l(kt,r.data.stats.contacted),l(la,r.data.stats.qualified),l(va,r.data.stats.converted),Pt(Wt,r.data.filters.search),$t!==($t=r.data.filters.status)&&(dt.value=(dt.__value=r.data.filters.status)??"",oa(dt,r.data.filters.status))}),m(c,st),La({...ya()})}ka(["click","change"]);export{d as component};
